@model GRA.Controllers.ViewModel.Shared.SchoolSelectionViewModel

@if (Model.IsHomeschooled || Model.SchoolNotListed)
{
    <script>
        $(function () {
            var school = $("#SchoolId");
            school.attr("disabled", "disabled");
            school.siblings("button").addClass("disabled");
        });
    </script>
}

<script>
    $("#IsHomeschooled").on("change", function () {
        var school = $("#SchoolId");
        var schoolNotListed = $("#SchoolNotListed");
        if ($(this).prop("checked")) {
            schoolNotListed.prop("checked", false);
            school.attr("disabled", "disabled");
            school.parent().addClass("disabled");
            school.siblings("button").addClass("disabled");
            school.selectpicker("val", "");
        }
        else if (schoolNotListed.prop("checked") == false) {
            school.attr("disabled", null);
            school.parent().removeClass("disabled");
            school.siblings("button").removeClass("disabled");
        }
    });

    $("#SchoolNotListed").on("change", function () {
        var school = $("#SchoolId");
        var homeschoolCheckbox = $("#IsHomeschooled");
        if ($(this).prop("checked")) {
            homeschoolCheckbox.prop("checked", false);
            school.attr("disabled", "disabled");
            school.parent().addClass("disabled");
            school.siblings("button").addClass("disabled");
            school.selectpicker("val", "");
        }
        else if (homeschoolCheckbox.prop("checked") == false) {
            school.attr("disabled", null);
            school.parent().removeClass("disabled");
            school.siblings("button").removeClass("disabled");
        }
    });
</script>